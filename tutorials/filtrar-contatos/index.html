<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Como Usar Filtros Avan√ßados de Contatos | Full Funnel</title>
<style>
  :root {
    --primary: #7c3aed;
    --primary-light: #a78bfa;
    --hotspot: #ef4444;
    --bg: #0f0f1a;
    --card-bg: #1a1a2e;
    --text: #e2e8f0;
    --text-muted: #94a3b8;
    --border: #2d2d44;
    --tooltip-bg: #ffffff;
    --tooltip-text: #1e293b;
    --radius: 12px;
    --shadow: 0 20px 60px rgba(0,0,0,0.5);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }
  .header {
    position: fixed; top: 0; left: 0; right: 0;
    padding: 16px 24px;
    display: flex; align-items: center; justify-content: space-between;
    background: rgba(15,15,26,0.9);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    z-index: 100;
  }
  .header-brand {
    display: flex; align-items: center; gap: 10px;
    font-weight: 700; font-size: 16px; color: var(--primary-light);
  }
  .header-brand svg { width: 24px; height: 24px; }
  .header-title { font-size: 14px; color: var(--text-muted); }
  .header-steps {
    font-size: 13px; color: var(--text-muted);
    background: var(--card-bg); padding: 6px 14px;
    border-radius: 20px; border: 1px solid var(--border);
  }
  .container {
    width: 100%; max-width: 1200px;
    padding: 80px 24px 120px; position: relative;
  }
  .screenshot-wrapper {
    position: relative; width: 100%;
    border-radius: var(--radius); overflow: hidden;
    box-shadow: var(--shadow); border: 1px solid var(--border);
    background: var(--card-bg);
  }
  .screenshot-wrapper img {
    width: 100%; display: block;
    border-radius: var(--radius);
    transition: opacity 0.4s ease;
  }
  .screenshot-wrapper img.fade-out { opacity: 0; }
  .screenshot-wrapper img.fade-in { opacity: 1; }

  /* Frame retangular no ponto de clique */
  .hotspot {
    position: absolute;
    border: 3px solid var(--hotspot);
    border-radius: 6px;
    background: rgba(239, 68, 68, 0.08);
    cursor: pointer;
    transition: all 0.4s ease; z-index: 10;
  }
  .hotspot::before {
    content: ''; position: absolute; inset: -6px;
    border-radius: 8px;
    border: 2px solid rgba(239, 68, 68, 0.3);
    animation: pulse 2s ease-in-out infinite;
  }
  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0; }
  }

  .tooltip {
    position: absolute; z-index: 20;
    background: var(--tooltip-bg); color: var(--tooltip-text);
    padding: 16px 20px; border-radius: 10px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    max-width: 340px; min-width: 240px;
    transition: all 0.4s ease;
  }
  .tooltip-step {
    display: inline-block;
    background: var(--primary); color: white;
    font-size: 11px; font-weight: 700;
    padding: 3px 8px; border-radius: 4px;
    margin-bottom: 8px;
    text-transform: uppercase; letter-spacing: 0.5px;
  }
  .tooltip-title { font-size: 15px; font-weight: 700; margin-bottom: 6px; line-height: 1.3; }
  .tooltip-text { font-size: 13px; color: #64748b; line-height: 1.5; }
  .tooltip-tip {
    margin-top: 10px; padding: 8px 10px;
    background: #f0f9ff; border-left: 3px solid #3b82f6;
    border-radius: 4px; font-size: 12px;
    color: #1e40af; line-height: 1.4;
  }

  /* Linha tracejada SVG ‚Äî viewBox percentual */
  .connector-svg {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 15;
    overflow: visible;
  }

  .nav-bar {
    position: fixed; bottom: 0; left: 0; right: 0;
    padding: 16px 24px;
    display: flex; align-items: center; justify-content: space-between;
    background: rgba(15,15,26,0.95);
    backdrop-filter: blur(12px);
    border-top: 1px solid var(--border); z-index: 100;
  }
  .nav-btn {
    padding: 10px 24px; border-radius: 8px;
    border: 1px solid var(--border);
    background: var(--card-bg); color: var(--text);
    font-size: 14px; font-weight: 600; cursor: pointer;
    transition: all 0.2s;
    display: flex; align-items: center; gap: 8px;
  }
  .nav-btn:hover { background: #252540; border-color: var(--primary); }
  .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
  .nav-btn:disabled:hover { background: var(--card-bg); border-color: var(--border); }
  .nav-btn.primary { background: var(--primary); border-color: var(--primary); color: white; }
  .nav-btn.primary:hover { background: #6d28d9; }
  .progress { display: flex; align-items: center; gap: 6px; }
  .progress-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--border); transition: all 0.3s; cursor: pointer;
  }
  .progress-dot.active { background: var(--primary); width: 24px; border-radius: 4px; }
  .progress-dot.completed { background: var(--primary-light); }
  @media (max-width: 768px) {
    .container { padding: 70px 12px 100px; }
    .tooltip { max-width: 260px; min-width: 180px; padding: 12px 14px; }
    .tooltip-title { font-size: 14px; }
    .tooltip-text { font-size: 12px; }
    .header-title { display: none; }
    .nav-btn { padding: 8px 16px; font-size: 13px; }
  }
  .intro-overlay {
    position: fixed; inset: 0;
    background: rgba(15,15,26,0.95);
    display: flex; align-items: center; justify-content: center;
    z-index: 200; transition: opacity 0.4s;
  }
  .intro-overlay.hidden { opacity: 0; pointer-events: none; }
  .intro-card {
    background: var(--card-bg); border: 1px solid var(--border);
    border-radius: 16px; padding: 40px;
    text-align: center; max-width: 500px;
    box-shadow: var(--shadow);
  }
  .intro-card h1 {
    font-size: 24px; margin-bottom: 12px;
    background: linear-gradient(135deg, var(--primary-light), #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .intro-card p { color: var(--text-muted); font-size: 15px; margin-bottom: 8px; line-height: 1.5; }
  .intro-card .steps-count { font-size: 13px; color: var(--text-muted); margin-bottom: 24px; }
  .intro-start {
    padding: 12px 32px; border-radius: 8px; border: none;
    background: var(--primary); color: white;
    font-size: 16px; font-weight: 700; cursor: pointer;
    transition: background 0.2s;
  }
  .intro-start:hover { background: #6d28d9; }
</style>
</head>
<body>

<div class="intro-overlay" id="intro">
  <div class="intro-card">
    <h1>üîç Como Usar Filtros Avan√ßados de Contatos</h1>
    <p>Aprenda a filtrar sua lista de contatos usando crit√©rios como tags, data de cria√ß√£o, cidade e muito mais.</p>
    <p class="steps-count">üìã 9 passos ‚Ä¢ ‚è±Ô∏è ~4 min</p>
    <button class="intro-start" onclick="startTutorial()">Come√ßar Tutorial ‚Üí</button>
  </div>
</div>

<div class="header">
  <a href="/" class="header-brand" style="text-decoration:none;color:inherit;">
    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
    Full Funnel
  </a>
  <div class="header-title">Como Usar Filtros Avan√ßados de Contatos</div>
  <div class="header-steps" id="header-steps">Passo 1 de 9</div>
</div>

<div class="container">
  <div class="screenshot-wrapper" id="screenshot-wrapper">
    <img id="screenshot" src="" alt="Screenshot do passo">
    <div class="hotspot" id="hotspot" onclick="nextStep()"></div>
    <svg class="connector-svg" id="connector-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
      <line id="connector" stroke="#ef4444" stroke-width="0.3" stroke-dasharray="1.2,0.8" stroke-linecap="round"/>
    </svg>
    <div class="tooltip" id="tooltip">
      <div class="tooltip-step" id="tooltip-step"></div>
      <div class="tooltip-title" id="tooltip-title"></div>
      <div class="tooltip-text" id="tooltip-text"></div>
      <div class="tooltip-tip" id="tooltip-tip" style="display:none;"></div>
    </div>
  </div>
</div>

<div class="nav-bar">
  <button class="nav-btn" id="btn-prev" onclick="prevStep()">‚Üê Anterior</button>
  <div class="progress" id="progress"></div>
  <button class="nav-btn primary" id="btn-next" onclick="nextStep()">Pr√≥ximo ‚Üí</button>
</div>

<script>
/*
  Cada passo define:
    - hotspot: {x, y, w, h} em % da imagem (frame retangular)
    - tooltip: {x, y} em % da imagem (canto superior-esquerdo do tooltip)
    - line: {x1, y1, x2, y2} em % ‚Äî pontos exatos da linha tracejada
      (x1,y1 = ponta perto do hotspot, x2,y2 = ponta perto do tooltip)
*/
const STEPS = [
  {
    image: "passo-01-novo.png",
    hotspot: { x: 1, y: 22.5, w: 11, h: 3 },
    tooltip: { x: 50, y: 50 },
    line: { x1: 12, y1: 24, x2: 50, y2: 57 },
    title: "Acesse a se√ß√£o de Contatos",
    text: "No menu lateral esquerdo, clique em 'Contatos'. √â nessa se√ß√£o que ficam armazenados todos os seus leads e clientes cadastrados na plataforma.",
    tip: "üí° Nesta tela voc√™ pode ver quantos contatos tem ao todo, al√©m de nome, telefone, e-mail, tags e √∫ltima atividade de cada um."
  },
  {
    image: "passo-01-novo.png",
    hotspot: { x: 14, y: 17, w: 8, h: 3 },
    tooltip: { x: 50, y: 50 },
    line: { x1: 22, y1: 18.5, x2: 50, y2: 57 },
    title: "Clique em Filtros Avan√ßados",
    text: "Acima da tabela, √† esquerda, voc√™ ver√° o bot√£o 'Filtros avan√ßados' com um √≠cone de funil. Clique nele para abrir o painel de filtros.",
    tip: "üí° Ao lado dos Filtros avan√ßados h√° tamb√©m o bot√£o 'Classificar' para ordenar seus contatos por diferentes crit√©rios."
  },
  {
    image: "passo-02.png",
    hotspot: { x: 77, y: 93.5, w: 15, h: 3.5 },
    tooltip: { x: 25, y: 40 },
    line: { x1: 77, y1: 95, x2: 55, y2: 50 },
    title: "Escolha o campo para filtrar",
    text: "O painel 'Advanced Filters' abre √† direita. Os campos est√£o organizados em categorias. Role a lista e clique no campo desejado ‚Äî por exemplo, 'Marca√ß√£o' para filtrar por tags.",
    tip: "üí° Use o campo de busca 'Search Field' no topo para encontrar o campo rapidamente sem precisar rolar a lista inteira."
  },
  {
    image: "passo-03.png",
    hotspot: { x: 82, y: 8, w: 16, h: 5 },
    tooltip: { x: 25, y: 25 },
    line: { x1: 82, y1: 10.5, x2: 55, y2: 32 },
    title: "Escolha a condi√ß√£o",
    text: "Ap√≥s selecionar 'Marca√ß√£o', o filtro aparece com tr√™s campos. O segundo campo √© o operador. Clique nele para ver as op√ß√µes: √â, N√£o √©, N√£o est√° vazio, Est√° vazio e √â qualquer um de.",
    tip: "üí° Use 'Est√° vazio' para encontrar contatos SEM nenhuma tag ‚Äî √≥timo para identificar quem precisa ser categorizado."
  },
  {
    image: "passo-05.png",
    hotspot: { x: 73, y: 12, w: 20, h: 5 },
    tooltip: { x: 20, y: 25 },
    line: { x1: 73, y1: 14.5, x2: 50, y2: 32 },
    title: "Selecione o valor",
    text: "No terceiro campo, escolha o valor do filtro. Ao clicar, aparecer√° uma lista com todas as tags dispon√≠veis na sua conta. Clique na tag desejada.",
    tip: "üí° Voc√™ pode digitar para buscar a tag desejada. A lista filtra em tempo real conforme voc√™ digita."
  },
  {
    image: "passo-06.png",
    hotspot: { x: 74, y: 42, w: 12, h: 4 },
    tooltip: { x: 20, y: 35 },
    line: { x1: 74, y1: 44, x2: 50, y2: 42 },
    title: "Adicione mais filtros (opcional)",
    text: "Quer refinar ainda mais? Clique em 'Add Filter' para adicionar outro crit√©rio. Por exemplo, al√©m da tag, filtre tamb√©m por cidade ou data de cria√ß√£o.",
    tip: "üí° Use 'Add nested filter' para criar condi√ß√µes agrupadas ‚Äî isso d√° mais controle sobre a l√≥gica de busca."
  },
  {
    image: "passo-07.png",
    hotspot: { x: 5, y: 24, w: 14, h: 3.5 },
    tooltip: { x: 50, y: 45 },
    line: { x1: 19, y1: 25.5, x2: 50, y2: 52 },
    title: "Aplique os filtros",
    text: "Ap√≥s clicar em 'Apply', a tabela √© atualizada. Note que o contador mudou ‚Äî de 3.518 para 656 contatos. S√≥ aparece quem tem a tag selecionada!",
    tip: "üí° O bot√£o 'Filtros avan√ßados' agora mostra '(1)' indicando que h√° 1 filtro ativo."
  },
  {
    image: "passo-08.png",
    hotspot: { x: 14, y: 19.5, w: 12, h: 3 },
    tooltip: { x: 50, y: 45 },
    line: { x1: 26, y1: 21, x2: 50, y2: 52 },
    title: "Salve como Lista Inteligente (opcional)",
    text: "Se quiser usar esse filtro novamente no futuro, clique em '+ Adicionar lista inteligente'. D√™ um nome descritivo e pronto ‚Äî o filtro fica salvo!",
    tip: "üí° Listas inteligentes s√£o din√¢micas: conforme novos contatos recebem a tag, eles aparecem automaticamente na lista."
  },
  {
    image: "passo-09.png",
    hotspot: { x: 72, y: 94, w: 17, h: 3 },
    tooltip: { x: 25, y: 42 },
    line: { x1: 72, y1: 95.5, x2: 55, y2: 52 },
    title: "Limpando os filtros",
    text: "Para voltar a ver todos os contatos, abra os Filtros avan√ßados novamente e clique em 'Limpar todos os filtros'. A lista voltar√° a mostrar todos os contatos.",
    tip: "üí° Voc√™ tamb√©m pode usar o X de cada filtro para remover apenas um filtro espec√≠fico."
  }
];

let currentStep = 0;

function init() {
  const progress = document.getElementById('progress');
  STEPS.forEach((_, i) => {
    const dot = document.createElement('div');
    dot.className = 'progress-dot';
    dot.onclick = () => goToStep(i);
    progress.appendChild(dot);
  });
}

function startTutorial() {
  document.getElementById('intro').classList.add('hidden');
  goToStep(0);
}

function goToStep(index) {
  if (index < 0 || index >= STEPS.length) return;
  const step = STEPS[index];
  const img = document.getElementById('screenshot');
  const hotspot = document.getElementById('hotspot');
  const tooltip = document.getElementById('tooltip');
  const line = document.getElementById('connector');

  img.classList.add('fade-out');
  img.classList.remove('fade-in');

  setTimeout(() => {
    img.src = step.image;
    img.onload = () => {
      img.classList.remove('fade-out');
      img.classList.add('fade-in');
    };

    // Frame retangular
    hotspot.style.left = step.hotspot.x + '%';
    hotspot.style.top = step.hotspot.y + '%';
    hotspot.style.width = step.hotspot.w + '%';
    hotspot.style.height = step.hotspot.h + '%';

    // Tooltip
    tooltip.style.left = step.tooltip.x + '%';
    tooltip.style.top = step.tooltip.y + '%';

    // Linha tracejada ‚Äî coordenadas puramente percentuais via viewBox
    line.setAttribute('x1', step.line.x1);
    line.setAttribute('y1', step.line.y1);
    line.setAttribute('x2', step.line.x2);
    line.setAttribute('y2', step.line.y2);

    // Conte√∫do
    document.getElementById('tooltip-step').textContent = `Passo ${index + 1} de ${STEPS.length}`;
    document.getElementById('tooltip-title').textContent = step.title;
    document.getElementById('tooltip-text').textContent = step.text;
    const tipEl = document.getElementById('tooltip-tip');
    if (step.tip) {
      tipEl.textContent = step.tip;
      tipEl.style.display = 'block';
    } else {
      tipEl.style.display = 'none';
    }

    // Header e progress
    document.getElementById('header-steps').textContent = `Passo ${index + 1} de ${STEPS.length}`;
    document.querySelectorAll('.progress-dot').forEach((dot, i) => {
      dot.className = 'progress-dot';
      if (i < index) dot.classList.add('completed');
      if (i === index) dot.classList.add('active');
    });

    // Navega√ß√£o
    document.getElementById('btn-prev').disabled = index === 0;
    const btnNext = document.getElementById('btn-next');
    if (index === STEPS.length - 1) {
      btnNext.innerHTML = '‚úÖ Concluir';
      btnNext.onclick = () => { goToStep(0); document.getElementById('intro').classList.remove('hidden'); };
    } else {
      btnNext.innerHTML = 'Pr√≥ximo ‚Üí';
      btnNext.onclick = nextStep;
    }
    currentStep = index;
  }, 200);
}

function nextStep() { goToStep(currentStep + 1); }
function prevStep() { goToStep(currentStep - 1); }

document.addEventListener('keydown', (e) => {
  if (document.getElementById('intro').classList.contains('hidden')) {
    if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextStep(); }
    if (e.key === 'ArrowLeft') { e.preventDefault(); prevStep(); }
  } else {
    if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); startTutorial(); }
  }
});

init();
</script>
</body>
</html>
